(this.webpackJsonpv2=this.webpackJsonpv2||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var o,r=n(0),a=n.n(r),i=n(7),l=n.n(i),c=(n(90),n(91),n(23)),s=n.n(c),f=n(41),u=n(18),d=n(29),h=n(26),m=n(36);function g(e){var t=(e&o.Right)===o.Right,n=(e&o.Left)===o.Left,r=(e&o.Down)===o.Down,a=(e&o.Up)===o.Up;return{isRight:t,isLeft:n,isDown:r,isUp:a,isDiagonal:(a||r)&&(t||n),isHorizontal:(t||n)&&!(a||r),isVertical:(a||r)&&!(t||n)}}function p(e){var t=g(e);return(t.isUp?"up":"")+(t.isDown?"down":"")+(t.isRight?"right":"")+(t.isLeft?"left":"")}function v(e){var t=function(e){return"(".concat(e.x,", ").concat(e.y,")")};return Array.isArray(e)?"[".concat(e.map(t).join(", "),"]"):t(e)}!function(e){e[e.None=0]="None",e[e.Right=1]="Right",e[e.Left=2]="Left",e[e.Down=4]="Down",e[e.Up=8]="Up"}(o||(o={}));var y;!function(e){e[e.None=0]="None",e[e.Verbose=1]="Verbose",e[e.Debug=2]="Debug",e[e.Info=3]="Info",e[e.Warning=4]="Warning",e[e.Error=5]="Error"}(y||(y={}));var b=new(function(){function e(){Object(u.a)(this,e),this.MIN_LEVEL=y.Debug}return Object(h.a)(e,[{key:"group",value:function(e){console.groupCollapsed(e)}},{key:"groupEnd",value:function(){console.groupEnd()}},{key:"v",value:function(e){if(this.MIN_LEVEL==y.Verbose){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(t=console).debug.apply(t,[e].concat(o))}}},{key:"d",value:function(e){if(this.MIN_LEVEL!==y.None&&this.MIN_LEVEL<=y.Debug){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];(t=console).debug.apply(t,[e].concat(o))}}},{key:"i",value:function(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];this.MIN_LEVEL!==y.None&&this.MIN_LEVEL<=y.Info&&(t=console).info.apply(t,[e].concat(o))}},{key:"w",value:function(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];this.MIN_LEVEL!==y.None&&this.MIN_LEVEL<=y.Warning&&(t=console).warn.apply(t,[e].concat(o))}},{key:"e",value:function(e){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];this.MIN_LEVEL!==y.None&&(t=console).error.apply(t,[e].concat(o))}},{key:"minLevel",get:function(){return y[this.MIN_LEVEL]}}]),e}());function w(e){b.MIN_LEVEL=e}var E=b,A=function(){var e=Array(),t=Array().concat(Array(3).fill(o.Right),Array(3).fill(o.Down),Array(3).fill(o.Right),Array(3).fill(o.Down),Array(3).fill(o.Left),Array(3).fill(o.Down),Array(3).fill(o.Left),Array(3).fill(o.Up),Array(3).fill(o.Left),Array(3).fill(o.Up),Array(3).fill(o.Right),Array(3).fill(o.Up)),n=-2,r=-5;return t.forEach((function(t){e.push({x:n,y:r});var o=g(t),a=o.isLeft,i=o.isRight,l=o.isDown,c=o.isUp;n=i?n+1===0?1:n+1:a?n-1===0?-1:n-1:n,r=l?r+1===0?1:r+1:c?r-1===0?-1:r-1:r})),e}();function x(e){var t=g(e);return t.isHorizontal&&t.isRight?0:t.isRight&&t.isDown?45:t.isVertical&&t.isDown?90:t.isLeft&&t.isDown?135:t.isHorizontal&&t.isLeft?180:t.isLeft&&t.isUp?225:t.isVertical&&t.isUp?270:t.isRight&&t.isUp?315:NaN}function O(e,t){if(e===t)return!0;var n=[g(e),g(t)],o=n[0],r=n[1];return!(!o.isVertical||!r.isVertical)||(!(!o.isHorizontal||!r.isHorizontal)||(!!(o.isRight&&o.isUp&&r.isLeft&&r.isDown)||(!!(r.isRight&&r.isUp&&o.isLeft&&o.isDown)||(!!(o.isLeft&&o.isUp&&r.isRight&&r.isDown)||!!(r.isLeft&&r.isUp&&o.isRight&&o.isDown)))))}function C(e,t){var n=g(t),o=e.x,r=e.y;return n.isUp&&(r=k(r,1)),n.isDown&&(r=k(r,-1)),n.isRight&&(o=k(o,1)),n.isLeft&&(o=k(o,-1)),{x:o,y:r}}function k(e,t){return e+t===0?k(e+t,t):e+t}!function(){var e=Object(m.a)(A),t=e.map((function(e){var t=e.x;e.y;return t})),n=e.map((function(e){e.x;return e.y})),o=Math.min.apply(Math,Object(m.a)(t))-5,r=Math.max.apply(Math,Object(m.a)(t))+5,a=Math.min.apply(Math,Object(m.a)(n))-5,i=Math.max.apply(Math,Object(m.a)(n))+5;console.debug("Creating a matrix from [%o, %o] to [%o, %o]",o,a,r,i);for(var l=function(t){for(var n=function(n){e.some((function(e){var o=e.x,r=e.y;return o===t&&r===n}))||e.push({x:t,y:n})},o=a;o<i;o++)n(o)},c=o;c<r;c++)l(c)}();var L=n(3),j=function e(t){Object(u.a)(this,e),this.coords=t,this.isOpened=!1,this.tdRef=void 0,this.lineDirections=Array()};j.prototype.toString=function(){return"".concat(this.isOpened?"Opened":"Closed"," cell ").concat(v(this.coords)," (dir=").concat(this.lineDirections.map((function(e){return p(e)})).join(", "),")")},Object(L.j)(j,{isOpened:L.o,lineDirections:L.o,tdRef:L.o});var D=j,M=n(14),S=n(16),R=n(72),U=function(e){return Object(R.a)({palette:{primary:{main:e.darkest},action:{active:e.lightest,disabled:e.color2},secondary:{main:e.color3},success:{main:e.lightest},info:{main:e.color2},warning:{main:e.color3},background:{default:e.darkest,paper:e.color3},text:{primary:e.lightest,secondary:e.lightest},divider:e.lightest},typography:{allVariants:{color:e.lightest,fontFamily:'source-code-pro, Menlo, Monaco, Consolas, "Courier New", monospace'},button:{textTransform:"none"},body1:{color:e.lightest}}})},I={Default:U({lightest:"#e7dfd5",color2:"#84a9ac",color3:"#3b6978",darkest:"#204051"}),"Green Desert":U({lightest:"#e5e4cc",color2:"#bac7a7",color3:"#889e81",darkest:"#698474"}),Bumblebee:U({lightest:"#f4f4f4",color2:"#f0a500",color3:"#cf7500",darkest:"#000000"}),Watermelon:U({lightest:"#bbf1c8",color2:"#80bdab",color3:"#342b38",darkest:"#ff9595"}),Limestone:U({lightest:"#e1ffc2",color2:"#c7e2b2",color3:"#89c9b8",darkest:"#092532"})},N=n(73),z={theme:I[Object.keys(I)[0]],setTheme:function(){}};var T=Object(N.a)(z,(function(){var e=a.a.useState(z.theme),t=Object(S.a)(e,2),n=t[0],o=t[1];return a.a.useEffect((function(){console.log("[useThemeSetter]: Theme was changed to",Object.keys(I)[Object.values(I).indexOf(n)])}),[n]),{theme:n,setTheme:o}})),V=Object(M.a)((function(e){var t=e.model,n=t.dimensions,o=T().theme;return a.a.createElement(a.a.Fragment,null,!n&&a.a.createElement(a.a.Fragment,null),n&&a.a.createElement("div",{style:{left:null===n||void 0===n?void 0:n.offsetX,width:null===n||void 0===n?void 0:n.lengthPx,height:3,top:null===n||void 0===n?void 0:n.offsetY,transformOrigin:t.transformOrigin,transform:"rotate(".concat(null===n||void 0===n?void 0:n.rotationDeg,"deg)"),position:"absolute"}},a.a.createElement("div",{style:{animationName:"grow",opacity:.75,animationDuration:"1s",animationTimingFunction:"cubiz-bezier(0, 20, 50, 90)",background:o.palette.background.paper,height:3}})))})),F=function(){function e(t,n){Object(u.a)(this,e),this.coords=t,this.game=n,this.direction=void 0,this.firstCell=void 0,this.lastCell=void 0,this.direction=function(e,t){var n=o.None;return e.x<t.x?n|=o.Right:e.x>t.x&&(n|=o.Left),e.y<t.y?n|=o.Up:e.y>t.y&&(n|=o.Down),n}(t[0],t[1]),this.firstCell=this.game.cellAt(this.coords[0].x,this.coords[0].y),this.lastCell=this.game.cellAt(this.coords[this.coords.length-1].x,this.coords[this.coords.length-1].y)}return Object(h.a)(e,[{key:"transformOrigin",get:function(){var e=g(this.direction);return e.isDiagonal||e.isHorizontal?"0 50%":e.isVertical?"0 100%":void 0}},{key:"dimensions",get:function(){var e,t;if((null===(e=this.firstCell)||void 0===e?void 0:e.tdRef)&&(null===(t=this.lastCell)||void 0===t?void 0:t.tdRef)){var n=g(this.direction),o=this.firstCell.tdRef.current,r=this.lastCell.tdRef.current,a=o.offsetWidth,i=o.offsetHeight,l=0,c=0,s=0;if(n.isHorizontal)c=o.offsetTop+i/2-1.5,n.isRight?(s=Math.abs(o.offsetLeft-r.offsetLeft)+.5*a,l=o.offsetLeft+.25*a):(s=Math.abs(r.offsetLeft-o.offsetLeft)+.5*a,l=o.offsetLeft+.75*a);else if(n.isVertical){l=o.offsetLeft+a/2+3/(n.isUp?2:-2),c=o.offsetTop+i*(n.isDown?.2:.8)-3;var f=r.offsetTop+i*(n.isUp?.2:.8)-3;s=Math.abs(f-c)}else{if(!n.isDiagonal)throw new Error("Invalid direction");var u=r.offsetLeft+(n.isLeft?0:a),d=r.offsetTop+(n.isUp?0:i);l=o.offsetLeft+(n.isRight?0:a),c=o.offsetTop+(n.isDown?0:i),s=Math.floor(Math.sqrt(Math.pow(Math.floor(u-l),2)+Math.pow(Math.ceil(d-c),2)))}return{offsetX:l,offsetY:c,lengthPx:s,rotationDeg:x(this.direction)}}}}]),e}();Object(L.j)(F,{firstCell:L.o,lastCell:L.o,direction:L.o,dimensions:L.g,transformOrigin:L.g});var B=n(28);function H(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(r.useState)(t),o=Object(S.a)(n,2),a=o[0],i=o[1];return Object(r.useEffect)((function(){if(e)return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)};function n(){i(t())}}),[]),a}var G,J=function(){},W=function(){return J()},Y=Object(M.a)((function(e){var t=e.game,n=e.tableRef,o=t.lines,r=a.a.useState({}),i=Object(S.a)(r,2),l=i[0],c=i[1],s=H(),f=a.a.useState(0),u=Object(S.a)(f,2),d=u[0],h=u[1];return J=function(){return h(d+1)},a.a.useEffect((function(){var e,t,o,r;c({width:null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.offsetWidth,height:null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t.clientHeight,left:null===n||void 0===n||null===(o=n.current)||void 0===o?void 0:o.offsetLeft,top:null===n||void 0===n||null===(r=n.current)||void 0===r?void 0:r.offsetTop}),console.log("set style")}),[n,n.current,s,d]),a.a.createElement("div",{style:Object(B.a)({position:"absolute",background:"rgba(45,91,0,0.15)",top:0,left:0,pointerEvents:"none"},l)},Array.isArray(o)&&o.map((function(e,n){return a.a.createElement(V,{key:"line-".concat(n),model:e,game:t})})))})),Q=function(){function e(){var t=this;Object(u.a)(this,e),this.lines=Array(),this.selectedCellCoords=void 0,this.cells=Array();for(var n=9;n>=-9;n=k(n,-1))for(var o=-9;o<=9;o=k(o,1))this.cells.push(new D({x:o,y:n}));this.initiateBoardAsync().then((function(){W();var e=0;Object(L.f)((function(){e>t.lines.length&&(t.cells.forEach((function(e){return e.isOpened=!1})),t.initiateBoard()),t.lines.forEach((function(e){var n=e.coords,o=e.direction;n.forEach((function(e){var n=e.x,r=e.y,a=t.cellAt(n,r);a.isOpened||(a.isOpened=!0),a.lineDirections.some((function(e){return e===o}))||(a.lineDirections.push(o),E.d("Added direction (%o) to cell at %o",p(o),v(a.coords)))}))})),e=t.lines.length}))}))}return Object(h.a)(e,[{key:"highlightedCoords",get:function(){return this.selectedCellCoords?this.possibleLines.map((function(e){return e.coords})).reduce((function(e,t){return e.concat(t)}),[]):[]}},{key:"lineCount",get:function(){var e;return(null===(e=this.lines)||void 0===e?void 0:e.length)||0}},{key:"endOfLineCoords",get:function(){return this.selectedCellCoords?this.possibleLines.map((function(e){return e.coords[e.coords.length-1]})):[]}},{key:"rows",get:function(){var e=this,t=Array();return this.cells.slice().sort((function(e,t){return e.coords.x-t.coords.x})).slice().sort((function(e,t){return t.coords.y-e.coords.y})).forEach((function(n){var o=n.coords.y,r=t.find((function(e){return e.yIndex===o}));r?r.cells.push(n):t.push({yIndex:o,cells:[n],game:e})})),t}}]),Object(h.a)(e,[{key:"initiateBoard",value:function(){var e,t=Object(d.a)(A);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.cellAt(n.x,n.y).isOpened=!0}}catch(o){t.e(o)}finally{t.f()}}},{key:"initiateBoardAsync",value:function(){var e=Object(f.a)(s.a.mark((function e(){var t,n,o,r,a=this,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.length>0&&void 0!==i[0]?i[0]:8,n=Object(d.a)(A),e.prev=2,r=s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.value,e.next=3,new Promise((function(e){return setTimeout((function(){a.cellAt(n.x,n.y).isOpened=!0,e(!0)}),t)}));case 3:case"end":return e.stop()}}),e)})),n.s();case 5:if((o=n.n()).done){e.next=9;break}return e.delegateYield(r(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"cellAt",value:function(e,t){return this.cells.find((function(n){return n.coords.x===e&&n.coords.y===t}))}},{key:"tryCompleteLine",value:function(e){var t=this.selectedCellCoords;if(t){E.i("Attempting to complete line from %o to %o",v(t),v(e));var n,o=this.getLineForCoords(e),r=Object(d.a)(o.coords);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.x,l=a.y,c=this.cellAt(i,l);c.isOpened||(c.isOpened=!0,E.i("Opened cell at ",v(c.coords)))}}catch(s){r.e(s)}finally{r.f()}this.lines.push(o),E.d("Added line at %s. Line count: %o.",v(o.coords),this.lineCount),this.selectedCellCoords=void 0,E.d("Reset selected cell coords.")}else E.w("Could not complete line due to selected coords being falsy.")}},{key:"getLineForCoords",value:function(e){return this.possibleLines.find((function(t){return t.coords.some((function(t){return o=e,(n=t).x===o.x&&n.y===o.y;var n,o}))}))}},{key:"possibleLines",get:function(){var e=this,t=E.MIN_LEVEL;t<y.Info&&w(y.Info);var n,r=Array(),a=Object(d.a)([o.Up,o.Down,o.Left,o.Right,o.Up|o.Left,o.Up|o.Right,o.Down|o.Left,o.Down|o.Right]);try{var i=function(){for(var t=n.value,o=e.selectedCellCoords,a=o.x,i=o.y,l=0,c=0,s=Array(),f=0;f<5;f++){var u;s.push({x:a,y:i});var d=e.cellAt(a,i);(null===d||void 0===d?void 0:d.isOpened)||c++,(null===d||void 0===d||null===(u=d.lineDirections)||void 0===u?void 0:u.some((function(e){return e===t||O(e,t)})))||l++;var h=C({x:a,y:i},t);a=h.x,i=h.y}if(5===l&&c<=1){var m=new F(s,e);E.i("Possible line from coords %s to direction %s: %s",v({x:a,y:i}),p(t),v(s)),r.push(m)}};for(a.s();!(n=a.n()).done;)i()}catch(l){a.e(l)}finally{a.f()}return w(t),r}}]),e}();Q.origo={x:0,y:0},function(e){e[e.NotStarted=0]="NotStarted",e[e.Started=1]="Started",e[e.Finished=2]="Finished"}(G||(G={})),Object(L.j)(Q,{selectedCellCoords:L.o,highlightedCoords:L.g,endOfLineCoords:L.g,lines:L.o,rows:L.g,cells:L.o,lineCount:L.g});var P=Q,Z=n(50),_=n.n(Z);function q(e){var t,n=null===(t=e.game)||void 0===t?void 0:t.selectedCellCoords;return(null===n||void 0===n?void 0:n.x)===e.coords.x&&(null===n||void 0===n?void 0:n.y)===e.coords.y}var X=Object(M.a)((function(e){var t=a.a.useRef(null),n=e.game,o=e.coords,r=e.cellSize,i=e.coords,l=i.x,c=i.y,s=e.game.cellAt(l,c),f=e.game.highlightedCoords.some((function(e){return e.x===l&&e.y===c})),u=f&&n.endOfLineCoords.some((function(e){return e.x===l&&e.y===c})),d=T().theme;a.a.useEffect((function(){s&&(s.tdRef=t)}),[n,o,l,c,s]);var h=q(e);return console.log("cellSize",r),a.a.createElement("td",{ref:t,className:"noselect cell",style:{width:r,height:r,color:f?_()(d.palette.primary.dark).darken(.2).hex():_()(d.palette.primary.main).darken(.2).hex(),fontSize:(null===s||void 0===s?void 0:s.isOpened)?15:12,fontWeight:(null===s||void 0===s?void 0:s.isOpened)?700:300,backgroundColor:u?d.palette.primary.light:h&&!f?d.palette.error.light:h&&f?d.palette.info.main:f?d.palette.secondary.light:"#f9f9f9"},onClick:function(){var t,n;(null===(t=e.game.selectedCellCoords)||void 0===t?void 0:t.x)===l&&(null===(n=e.game.selectedCellCoords)||void 0===n?void 0:n.y)===c?e.game.selectedCellCoords=void 0:f?e.game.tryCompleteLine(e.coords):e.game.selectedCellCoords=e.coords},"data-coords":"[".concat(l,", ").concat(c,"]")},s.isOpened||q(e)?a.a.createElement(a.a.Fragment,null,"\u25cb"):a.a.createElement(a.a.Fragment,null,"\u2022"))})),K=function(e){return a.a.createElement("tr",null,e.cells.map((function(t){return a.a.createElement(X,Object.assign({cellSize:e.cellSize,game:e.game,key:t.coords.x},t))})))},$=n(135),ee=function(e){var t=T().theme;return a.a.createElement("div",Object.assign({},e,{style:Object(B.a)({display:"flex",color:t.palette.text.primary},e.style)}),e.children)},te=n(131),ne=n(63),oe=n.n(ne),re=n(64),ae=n.n(re),ie=function(e){var t=T().theme,n=e.isMenuOpen,o=e.setIsMenuOpen;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ee,{style:{padding:"0 25px"}},a.a.createElement(ee,{style:{flexGrow:1}},a.a.createElement("h1",{style:{color:t.palette.text.primary,paddingBottom:5}},"Linegame")),a.a.createElement(ee,null,a.a.createElement(te.a,{onClick:function(){return o(!n)}},!n&&a.a.createElement(oe.a,{color:"action"}),n&&a.a.createElement(ae.a,null)))))},le=n(141),ce=n(140),se={fontSize:"140%",cursor:"pointer",margin:"-2px 2px 0 2px",display:"flex",flexGrow:1},fe=function(){var e=T(),t=e.theme,n=e.setTheme,o=Object.values(I).indexOf(t),r=Object.keys(I);return a.a.createElement(ee,{style:{flexFlow:"column",flexGrow:1},onClick:function(e){e.stopPropagation()}},a.a.createElement("span",{style:{display:"flex",flexGrow:1,fontSize:"70%",opacity:.8,paddingTop:5,textAlign:"center",flexFlow:"column",textIndent:-10}},"Theme"),a.a.createElement(ee,{style:{flexGrow:1}},a.a.createElement("a",{style:se,className:"noselect",onClick:function(){return function(){var e=r[o>0?o-1:r.length-1];n(I[e])}()}},"\xab"),a.a.createElement("span",{style:{flexGrow:0,textAlign:"center"}},Object.keys(I)[Object.values(I).indexOf(t)]),a.a.createElement("a",{style:Object(B.a)(Object(B.a)({},se),{},{flexDirection:"row-reverse"}),className:"noselect",onClick:function(){return function(){var e=r[o+1<r.length?o+1:0];n(I[e])}()}},"\xbb")))},ue=n(65),de=n.n(ue),he=n(67),me=n.n(he),ge=n(66),pe=n.n(ge),ve=n(68),ye=n.n(ve),be=n(69),we=n.n(be),Ee=n(134),Ae=n(133),xe=n(136),Oe=function(e){var t=e.icon,n=e.onClick,o=e.text,r=e.fontSize;return a.a.createElement(ce.a,{onClick:n,style:{cursor:"pointer"}},a.a.createElement(Ae.a,{fullWidth:!0},a.a.createElement(ee,{style:{width:"70%"}},a.a.createElement("span",{style:{width:40,marginRight:"100%"===r?5:15}},t&&t),a.a.createElement(Ee.a,{color:"textPrimary",style:{fontSize:r||"130%",marginTop:3}},o))))},Ce=Object(M.a)((function(e){var t=a.a.useState(!1),n=Object(S.a)(t,2),o=n[0],r=n[1],i=T().theme;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ie,{isMenuOpen:o,setIsMenuOpen:r}),a.a.createElement(ee,{style:{padding:"0 25px"}},a.a.createElement(Ee.a,{color:"textPrimary",style:{display:"flex",flexGrow:1,padding:"10px 0"}},"Points: ",e.game.lineCount),a.a.createElement(te.a,{onClick:function(){return e.game.lines.pop()}},a.a.createElement(de.a,null))),a.a.createElement($.a,{anchor:"left",open:o,onClose:function(){return r(!1)}},a.a.createElement(ee,{style:{flexFlow:"column",alignItems:"center",overflow:"hidden",height:"100vh",backgroundColor:i.palette.background.paper}},a.a.createElement(le.a,{style:{marginTop:"auto",marginBottom:"auto",width:300,height:550,backgroundColor:i.palette.background.paper,color:"#fff",textAlign:"center"}},a.a.createElement(ce.a,null,a.a.createElement(fe,null)),a.a.createElement(xe.a,{style:{margin:"2px 10px"}}),a.a.createElement(Oe,{text:"New game",icon:a.a.createElement(pe.a,{fontSize:"large"}),onClick:function(){console.log("newGame()"),Fe.game=new P,r(!1)}}),a.a.createElement(Oe,{text:"Save game",icon:a.a.createElement(me.a,{fontSize:"large"}),onClick:function(){!function(){var e=JSON.stringify(Fe.game.lines.map((function(e){return e.coords})));localStorage.setItem("game_lines",e)}(),r(!1)}}),a.a.createElement(Oe,{text:"Load game",icon:a.a.createElement(ye.a,{fontSize:"large"}),onClick:function(){(function(){return Be.apply(this,arguments)})().then((function(e){r(!1)}))}}),a.a.createElement(xe.a,{style:{margin:"2px 10px"}}),a.a.createElement(Oe,{onClick:function(){r(!1),e.openHowToPlay()},text:"How to play?",fontSize:"100%",icon:a.a.createElement(we.a,{fontSize:"default",onClick:function(){}})})))))})),ke=n(137),Le=n(107),je=n(76),De=n(138),Me=n(70),Se=n.n(Me),Re=n(71),Ue=n.n(Re),Ie=function(e){return a.a.createElement(Ee.a,{variant:"body1",style:{padding:"5px 0"}},e.children)},Ne=function(e){var t=H(),n=Math.min(Math.min(t.width,t.height),600);return a.a.createElement(ke.a,{open:e.isOpen,TransitionComponent:a.a.forwardRef((function(e,t){return a.a.createElement(Le.a,Object.assign({direction:"down"},{ref:t},e))})),onClose:e.onClose},a.a.createElement(je.a,{style:{width:n}},a.a.createElement(De.a,{style:{padding:20},container:!0},a.a.createElement(Ee.a,{variant:"h4"},"How to play Linegame"),a.a.createElement(Ie,null,"The goal of the game is to create as many lines as possible.",a.a.createElement("br",null),"The game will end when no more lines can be drawn."),a.a.createElement(De.a,{xs:12,style:{textAlign:"center"}},a.a.createElement("img",{src:Se.a})),a.a.createElement(Ie,null,"A line can be created by selecting a dot to start the line from, and the direction of the line. The direction can be horizontal, vertical, or diagonal."),a.a.createElement(De.a,{xs:12,style:{textAlign:"center"}},a.a.createElement("img",{src:Ue.a})),a.a.createElement(Ie,null,"A line must have a length of 5 cells (5 dots), and lines cannot overlap each other. ",a.a.createElement("br",null),"At the start, most of the dots are unopened - only 1 of the lines dots can be unopened when drawing it!"),a.a.createElement(Ie,null,"Click on a cell to see what lines can be drawn from it."))))},ze=Object(M.a)((function(e){var t=e.game,n=a.a.useRef(null),o=T().theme,r=H(),i=Math.min(r.height,r.width),l=Math.min(Math.floor((i-20)/20),25);a.a.useEffect((function(){W()}),[r]);var c={width:20*l,margin:"auto"},s=a.a.useState(!1),f=Object(S.a)(s,2),u=f[0],d=f[1];return a.a.createElement(ee,{style:{background:o.palette.background.default,margin:"auto",justifyContent:"center",flexFlow:"column",border:"1px solid ".concat(o.palette.primary.main)}},a.a.createElement(ee,{style:{flexFlow:"column",margin:"auto",padding:5,borderRadius:o.spacing(1),background:o.palette.background.paper}},a.a.createElement(Ce,{game:t,openHowToPlay:function(){return d(!0)}}),a.a.createElement(Ne,{isOpen:u,onClose:function(){return d(!1)}}),a.a.createElement("table",{ref:n,cellSpacing:1,style:c},a.a.createElement("tbody",null,t.rows.map((function(e){return a.a.createElement(K,Object.assign({game:t,key:e.yIndex},e,{cellSize:l}))})))),a.a.createElement(Y,{game:t,tableRef:n})))})),Te=n(139),Ve=function e(){Object(u.a)(this,e),this.game=new P};Object(L.j)(Ve,{game:L.o});var Fe=new Ve;function Be(){return(Be=Object(f.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=localStorage.getItem("game_lines");if(t)try{Fe.game=new P,JSON.parse(t).map((function(e){return new F(e,Fe.game)})).forEach((function(e){e=new F(e.coords,Fe.game),Fe.game.lines.push(e)})),e(!0)}catch(n){e(!1)}e(!1)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var He=Object(M.a)((function(){var e=T().theme;return a.a.useEffect((function(){console.log("Theme was changed to",Object.keys(I)[Object.values(I).indexOf(e)])}),[e]),a.a.createElement(Te.a,{theme:e},a.a.createElement(ze,{game:Fe.game}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(He,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAAAmCAYAAAA4AlIkAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJ7SURBVHhe7ZyxagJBEIZ9EZ8ioFzS2QlCQLARbBJJcoJwcCm0ELExdikF27xDsPYZ7FLlSTa7Jqe3x+xlJ7kdxJniaybLTvb//z1mG2sfn3sFET0+gPVQXHI/zlpKwAjgrKUEjADOWkrACOCspQSMAM5a1swfBSEU8gUjgLOWEjACOGspASOAs5YSMAI4aykBI4CzlhIwAjhrKQEjgLOWEjACOGspASOAs5YSMAI4aykBI4CzltUFbDdTjaip6j80lu/wOgfYfttl59irHnXU8w5e5wLbbz06na0eDdUaWOMCb/hG9Y69NKMNsMbNOXn3p4Ddv7zazKfq+m6q+rlaN35S18nKXlfCTZyCdYh+Mi7svVCtwVi15/a6MjD9zFlak1zNnHeQqm5uTRmYXt9nsfc2572KF7k15aD6eXoH5SAjeMC6+kCQ2K46hL8o2gBQbFcdxrufNqAFXRRXHQBjeD9JwYviqkNg+vl6B+UgI3DAVqqdwMYGEUUb285/TY7o/yO2b2IZ3v0muh94Bv9AowxPHGeYpPZXtAT/fv7eQTnIqDxgRdYjeCZx1SH8++n5BJxJXHUY7356PulBM4mrDoDRcrscgvOkqw5xTt5VM+SbIfF2pra5mhmKMcMizoROYW8zFOMGfZwJTdV7y9UOQ3GIy2MwZ7H3PjxoQlweQ2DvqgmY4SD66SViGeIBtp/9ivQ3OwPbz3pFFgz5DbSWhVdk6Bd5SO+qC9g/ueR+nLWUgBHAWUsJGAGctZSAEcBZSwkYAZy1lIARwFlLCRgBnLWUgBHAWUsJGAGctZTfphCCIl8wAjhrKQEjgLOWEjACOGspASOAr5Z79QUswyh9FvyE2gAAAABJRU5ErkJggg=="},71:function(e,t,n){e.exports=n.p+"static/media/possible_lines_example.262817d2.png"},85:function(e,t,n){e.exports=n(105)},90:function(e,t,n){},91:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.a79db941.chunk.js.map